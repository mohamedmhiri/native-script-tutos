{
  "_args": [
    [
      {
        "raw": "nativescript-hook@^0.2.1",
        "scope": null,
        "escapedName": "nativescript-hook",
        "name": "nativescript-hook",
        "rawSpec": "^0.2.1",
        "spec": ">=0.2.1 <0.3.0",
        "type": "range"
      },
      "/home/mohamed/Documents/development/javascript/native-script/finance/node_modules/nativescript-dev-android-snapshot"
    ]
  ],
  "_from": "nativescript-hook@>=0.2.1 <0.3.0",
  "_id": "nativescript-hook@0.2.1",
  "_inCache": true,
  "_location": "/nativescript-hook",
  "_nodeVersion": "4.2.1",
  "_npmUser": {
    "name": "hdeshev",
    "email": "hristo@deshev.com"
  },
  "_npmVersion": "2.14.7",
  "_phantomChildren": {},
  "_requested": {
    "raw": "nativescript-hook@^0.2.1",
    "scope": null,
    "escapedName": "nativescript-hook",
    "name": "nativescript-hook",
    "rawSpec": "^0.2.1",
    "spec": ">=0.2.1 <0.3.0",
    "type": "range"
  },
  "_requiredBy": [
    "/nativescript-dev-android-snapshot",
    "/nativescript-dev-typescript"
  ],
  "_resolved": "https://registry.npmjs.org/nativescript-hook/-/nativescript-hook-0.2.1.tgz",
  "_shasum": "786225056db20fa49e786451dccd64b52e3864d9",
  "_shrinkwrap": null,
  "_spec": "nativescript-hook@^0.2.1",
  "_where": "/home/mohamed/Documents/development/javascript/native-script/finance/node_modules/nativescript-dev-android-snapshot",
  "author": {
    "name": "NativeScript"
  },
  "bugs": {
    "url": "https://github.com/NativeScript/nativescript-hook/issues"
  },
  "dependencies": {
    "glob": "^6.0.1",
    "mkdirp": "^0.5.1"
  },
  "description": "Helper module for installing hooks into NativeScript projects",
  "devDependencies": {},
  "directories": {},
  "dist": {
    "shasum": "786225056db20fa49e786451dccd64b52e3864d9",
    "tarball": "https://registry.npmjs.org/nativescript-hook/-/nativescript-hook-0.2.1.tgz"
  },
  "homepage": "https://github.com/NativeScript/nativescript-hook#readme",
  "license": "Apache-2.0",
  "main": "index.js",
  "maintainers": [
    {
      "name": "erjangavalji",
      "email": "erjan.gavalji@gmail.com"
    },
    {
      "name": "hdeshev",
      "email": "hristo@deshev.com"
    },
    {
      "name": "ligaz",
      "email": "stefan.dobrev@gmail.com"
    },
    {
      "name": "rosen_vladimirov",
      "email": "rosen.vladimirov.91@gmail.com"
    },
    {
      "name": "sdobrev",
      "email": "stefan.dobrev@gmail.com"
    },
    {
      "name": "tailsu",
      "email": "tailsu@gmail.com"
    },
    {
      "name": "tns-bot",
      "email": "nativescript@telerik.com"
    }
  ],
  "name": "nativescript-hook",
  "optionalDependencies": {},
  "readme": "nativescript-hook\n=======================================\n\nThis module gives you an easier way to install hooks into NativeScript projects when using the `tns install <module>` command. A project hook is some sort of script that is configured to be executed when the NativeScript CLI executes some action.\n\nHooks go into the `hooks/` folder of a project. For example, when `tns prepare ...` is executed, all script files in the `hooks/before-prepare/` and `hooks/after-prepare/` folders are executed, as well.\n\nThis module simplifies the process of installing the scripts into the right project folder.\n\nHow to use\n----------\n\n### Describe the hooks\nFirst, add a description of your hooks to the module's `package.json`. Here's an example:\n```json\n{\n  \"nativescript\": {\n    \"hooks\": [\n      {\n        \"type\": \"before-prepare\",\n        \"script\": \"lib/before-prepare.js\"\n      }\n    ]\n  },\n}\n```\nThe above specifies that the script `lib/before-prepare.js` should be executed when the `tns prepare ...` command is executed. the `\"type\"` property specifies the type of the hook to install. The `\"script\"` property specifies the path to the script to execute. You can add more hooks by extending the `\"hooks\"` array.\n\n### Install the hooks\nAdd a post-install and pre-uninstall script to your `package.json`, if you haven't done so already:\n```\n  \"scripts\": {\n    ...\n    \"postinstall\": \"node postinstall.js\",\n    \"preuninstall\": \"node preuninstall.js\"\n  },\n```\n\nThe post-install script (`postinstall.js` in the example) should contain the following line:\n```\nrequire('nativescript-hook').postinstall(__dirname);\n```\n\nThe pre-uninstall script (`preuninstall.js` in the example) should contain the following line:\n```\nrequire('nativescript-hook').preuninstall(__dirname);\n```\n\nThese two hooks will take care of installing and removing the hooks from the NativeScript project, when your module is installed or uninstalled.\n\n`tns install <module>`\n----------------------\nNativeScript modules that install hooks are intended to be installed using the `tns install <module>` command, not through npm directly. During module installation the NativeScript CLI provides information to the post-install script where to put the hooks. The following environment variables are defined when installing through `tns install <module>`:\n* `TNS_HOOKS_DIR` - the directory where the hooks should be installed. It may or may not exist.\n* `TNS_PROJECT_DIR` - the current project directory.\n\nModules installed this way can be uninstalled simply by running `npm rm --save-dev`.\n\nIn-process hooks\n----------------\nBy default, hooks are executed in a child process and execution continues when the child process dies. This gives you flexibility when writing your hooks, but doesn't allow you to use any of the services of the CLI.\n\nTo that end, in-process hooks allow you to execute your hooks in such a way so that you can use any of the services available from the injector. In-process hooks work only for JavaScript hooks. To enable in-process execution, all you need to have is a `module.exports = ...` statement in the hook. For example, if the hook script is:\n```javascript\nmodule.exports = function($logger) {\n};\n```\nThen, the hook script will be require'd by the CLI and the exported function will be called through the injector.\n\nHooks can take a special injected argument named `hookArgs`:\n```javascript\nmodule.exports = function(hookArgs) {\n};\n```\n`hookArgs` is a hash containing all the arguments passed to the hooked method. For example, the `prepare` hook is activated by the CLI method `preparePlatform(platform: string)`. Here, the hook will get the value of the `platform` argument in the `hookArgs.platform` property.\n\nIf you execute asynchronous code in your hook, you need to return a promise, otherwise execution will continue before your hook completes:\n```javascript\nvar mkdirp = require('mkdirp');\nmodule.exports = function($logger) {\n  return new Promise(function(resolve, reject) {\n      mkdirp('somedir', function(err) {\n          if (err) {\n            reject(err);\n          else {\n            resolve();\n          }\n        })\n    });\n}\n```\n\nAnd finally, when installing in-process hooks through this module, you need to explicitly specify that using the `inject` property of the script descriptor in the `package.json`:\n```json\n{\n  \"nativescript\": {\n    \"hooks\": [\n      {\n        \"type\": \"after-prepare\",\n        \"script\": \"lib/after-prepare.js\",\n        \"inject\": true\n      }\n    ]\n  },\n}\n```\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/NativeScript/nativescript-hook.git"
  },
  "scripts": {
    "test": "exit 0"
  },
  "version": "0.2.1"
}
